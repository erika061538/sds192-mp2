---
title: "Mini-Project 2"
author: "Van Nguyen, Erika Chao, Sherri Lin"
date: "March 26, 2017"
output: html_document
---


```{r, include=FALSE}
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```

```{r, message=FALSE,echo=FALSE}
library(dplyr)
library(ggplot2)
library(tidyverse)
library(RColorBrewer)
library(ggthemes)
```

```{r}
#filter candidates based on their parties
candidate_result <- function(party_arg){
  candidates %>% 
  filter(cand_party_affiliation == party_arg) %>%  #filter the parties
  full_join(house_elections,by=c("cand_id"="fec_id")) %>% #join the two tables by candidates' id
  select(cand_id, cand_name, cand_party_affiliation, cand_election_yr,incumbent) 
}

candidate_result(party_arg = "DEM") #show the candidates who are in the deomocratic party
```

```{r}
candidate_result(party_arg = "REP") #show the candidates who are in the republic party
```
We can see that the number of candidates in the Republican Party is bigger than that in the Democratic Party. 

```{r}
#number of candidates over the years
candidate_year <- candidates %>%
  full_join(house_elections,by=c("cand_id"="fec_id")) %>%
  select(cand_id, cand_name, cand_party_affiliation, cand_election_yr) %>%
  group_by(cand_election_yr) %>% 
  summarize(num_cand = n())
candidate_year
```

```{r,warning=FALSE,echo=FALSE}
myPlot <- ggplot(candidate_year, aes(x=cand_election_yr,y=num_cand))+geom_bar(stat = "identity")
myPlot + theme_economist() + scale_fill_economist()
```

As we can see from the graph, the number of candidates in the election cycle 2012 is the largest, with 3513 candidates. Top 4 years with largest number of candidates are 2012, 2010, 2008, and 2006. In 2008, the year when Barack Obama was elected, there were 472 candidates. 
